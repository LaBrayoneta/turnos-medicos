:root{
  --bg:#0a0e1a;--card:#1a2332;--card-dark:#0f172a;--text:#e5e7eb;--muted:#94a3b8;--border:#1f2937;
  --primary:#22d3ee;--primary-600:#06b6d4;--primary-700:#0891b2;
  --ok:#10b981;--err:#ef4444;--warn:#fb923c;
  --gradient-primary:linear-gradient(135deg, #22d3ee 0%, #06b6d4 100%);
  --shadow-sm:0 2px 8px rgba(0,0,0,0.3);
  --shadow-md:0 4px 16px rgba(0,0,0,0.4);
  --shadow-lg:0 8px 32px rgba(0,0,0,0.5);
  --shadow-primary:0 4px 20px rgba(34,211,238,0.4);
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  background:var(--bg);
  color:var(--text);
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  line-height:1.6;
  margin:0;
  padding:0;
}

/* HEADER */
.hdr{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:16px 32px;
  border-bottom:1px solid var(--border);
  background:linear-gradient(135deg, #1a2332 0%, #0f172a 100%);
  box-shadow:var(--shadow-sm);
  position:sticky;
  top:0;
  z-index:100;
  flex-wrap:wrap;
  gap:12px;
}

.brand{
  font-weight:700;
  font-size:20px;
  color:var(--primary);
  display:flex;
  align-items:center;
  gap:8px;
  letter-spacing:-0.5px;
}

.who{
  color:var(--muted);
  font-size:14px;
  font-weight:500;
  display:flex;
  align-items:center;
  gap:6px;
}

.actions{
  display:flex;
  gap:12px;
  align-items:center;
}

/* CONTENEDOR PRINCIPAL */
.wrap{
  max-width:1400px;
  margin:0 auto;
  padding:24px;
}

/* TABS HORIZONTALES */
.tabs{
  display:flex;
  gap:8px;
  margin-bottom:24px;
  background:var(--card-dark);
  padding:8px;
  border-radius:12px;
  border:1px solid var(--border);
  overflow-x:auto;
  scrollbar-width:thin;
}

.tabs::-webkit-scrollbar{height:6px}
.tabs::-webkit-scrollbar-track{background:transparent}
.tabs::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}

.tab{
  background:transparent;
  border:none;
  color:var(--muted);
  padding:10px 20px;
  border-radius:8px;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.3s;
  white-space:nowrap;
  display:flex;
  align-items:center;
  gap:6px;
}

.tab:hover{
  background:rgba(34,211,238,0.1);
  color:var(--primary);
}

.tab.active{
  background:var(--gradient-primary);
  color:#001219;
  font-weight:700;
  box-shadow:var(--shadow-primary);
}

/* CARDS */
.card{
  background:linear-gradient(145deg, var(--card) 0%, var(--card-dark) 100%);
  border:1px solid var(--border);
  border-radius:16px;
  padding:28px;
  margin-bottom:24px;
  box-shadow:var(--shadow-md);
}

.card.hidden{
  display:none;
}

.card h2{
  color:var(--primary);
  font-size:24px;
  margin:0 0 24px 0;
  font-weight:700;
  display:flex;
  align-items:center;
  gap:8px;
}

.card h3{
  color:var(--primary-600);
  font-size:18px;
  margin:20px 0 16px 0;
  font-weight:600;
  display:flex;
  align-items:center;
  gap:6px;
}

.card-sub{
  background:rgba(15,23,42,0.5);
  border:1px solid var(--border);
  border-radius:12px;
  padding:20px;
  margin-top:16px;
}

/* GRID SYSTEM */
.grid{
  display:grid;
  gap:16px;
  margin-bottom:20px;
}

.grid-2{
  grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));
}

.grid-3{
  grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
}

.grid-4{
  grid-template-columns:repeat(auto-fit, minmax(180px, 1fr));
}

@media(max-width:768px){
  .grid-2,.grid-3,.grid-4{
    grid-template-columns:1fr;
  }
}

/* CAMPOS DE FORMULARIO */
.field{
  display:flex;
  flex-direction:column;
  gap:6px;
}

.field label{
  color:var(--muted);
  font-size:13px;
  font-weight:600;
  letter-spacing:0.3px;
}

.field input,
.field select{
  background:rgba(10,14,26,0.6);
  border:1px solid var(--border);
  border-radius:10px;
  color:var(--text);
  padding:10px 14px;
  font-size:14px;
  transition:all 0.3s;
  width:100%;
}

.field input:focus,
.field select:focus{
  outline:none;
  border-color:var(--primary);
  background:rgba(10,14,26,0.8);
  box-shadow:0 0 0 3px rgba(34,211,238,0.1);
}

.field select{
  cursor:pointer;
}

.field.hidden{
  display:none;
}

/* BOTONES */
.btn{
  padding:10px 18px;
  border-radius:10px;
  border:none;
  font-weight:700;
  font-size:14px;
  cursor:pointer;
  text-decoration:none;
  transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
  display:inline-flex;
  align-items:center;
  gap:6px;
  white-space:nowrap;
}

.btn.primary{
  background:var(--gradient-primary);
  color:#001219;
  box-shadow:var(--shadow-primary);
}

.btn.primary:hover{
  transform:translateY(-2px);
  box-shadow:0 6px 24px rgba(34,211,238,0.5);
}

.btn.ghost{
  background:transparent;
  color:var(--text);
  border:1px solid var(--border);
}

.btn.ghost:hover{
  background:rgba(34,211,238,0.1);
  border-color:var(--primary);
  transform:translateY(-2px);
}

.btn.danger{
  background:var(--err);
  color:white;
  border:none;
}

.btn.danger:hover{
  background:#dc2626;
  transform:translateY(-2px);
  box-shadow:0 4px 16px rgba(239,68,68,0.4);
}

.btn:disabled{
  opacity:0.5;
  cursor:not-allowed;
  transform:none !important;
}

.btn:active{
  transform:translateY(0) !important;
}

/* ACCIONES EN FILA */
.actions-row{
  display:flex;
  align-items:center;
  gap:14px;
  margin-top:16px;
  flex-wrap:wrap;
}

/* MENSAJES */
.msg{
  font-size:14px;
  font-weight:600;
  animation:fadeIn 0.3s;
}

.msg.ok{color:var(--ok)}
.msg.err{color:var(--err)}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(10px)}
  to{opacity:1;transform:translateY(0)}
}

/* TABLAS */
.table-wrap{
  overflow:auto;
  max-height:560px;
  border:1px solid var(--border);
  border-radius:14px;
  background:rgba(10,14,26,0.4);
  box-shadow:var(--shadow-sm);
}

.table-wrap::-webkit-scrollbar{width:10px;height:10px}
.table-wrap::-webkit-scrollbar-track{background:rgba(10,14,26,0.5)}
.table-wrap::-webkit-scrollbar-thumb{background:var(--border);border-radius:5px}
.table-wrap::-webkit-scrollbar-thumb:hover{background:var(--primary)}

table{
  width:100%;
  border-collapse:collapse;
}

table.mini{
  font-size:14px;
}

th,td{
  padding:14px 16px;
  border-bottom:1px solid var(--border);
  text-align:left;
  vertical-align:middle;
  font-size:14px;
}

th{
  background:rgba(34,211,238,0.08);
  font-weight:700;
  color:var(--primary);
  position:sticky;
  top:0;
  z-index:1;
  text-transform:uppercase;
  font-size:12px;
  letter-spacing:1px;
}

tbody tr{
  transition:all 0.2s;
}

tbody tr:hover{
  background:linear-gradient(90deg,rgba(34,211,238,0.05) 0%,rgba(34,211,238,0.1) 50%,rgba(34,211,238,0.05) 100%);
  transform:translateX(4px);
}

.row-actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}

.row-actions .btn{
  padding:6px 12px;
  font-size:13px;
}

/* BADGES */
.badge{
  display:inline-flex;
  align-items:center;
  gap:4px;
  padding:4px 12px;
  border-radius:20px;
  font-size:12px;
  font-weight:700;
  text-transform:uppercase;
  letter-spacing:0.5px;
}

.badge.ok{
  background:rgba(16,185,129,0.15);
  color:#34d399;
  border:1px solid rgba(16,185,129,0.3);
  box-shadow:0 0 12px rgba(16,185,129,0.2);
}

.badge.warn{
  background:rgba(251,146,60,0.15);
  color:#fb923c;
  border:1px solid rgba(251,146,60,0.3);
  box-shadow:0 0 12px rgba(251,146,60,0.2);
}

/* HORARIOS LIST */
.horarios-list{
  display:grid;
  gap:12px;
  margin-top:12px;
}

.horario-item{
  background:rgba(10,14,26,0.4);
  border:1px solid var(--border);
  border-radius:10px;
  padding:12px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  transition:all 0.3s;
}

.horario-item:hover{
  border-color:var(--primary);
  background:rgba(34,211,238,0.05);
}

.horario-info{
  flex:1;
}

.btn-remove-horario{
  background:transparent;
  border:1px solid var(--err);
  color:var(--err);
  padding:6px 12px;
  border-radius:8px;
  font-size:13px;
  font-weight:600;
  cursor:pointer;
  transition:all 0.3s;
}

.btn-remove-horario:hover{
  background:var(--err);
  color:white;
}

/* MODALES */
.modal{
  display:none;
  position:fixed;
  top:0;
  left:0;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.7);
  backdrop-filter:blur(4px);
  z-index:1000;
  align-items:center;
  justify-content:center;
  padding:20px;
}

.modal-content{
  background:linear-gradient(145deg, var(--card) 0%, var(--card-dark) 100%);
  border:1px solid var(--border);
  border-radius:16px;
  padding:28px;
  max-width:700px;
  width:100%;
  max-height:90vh;
  overflow-y:auto;
  box-shadow:var(--shadow-lg);
}

.modal-content h2{
  color:var(--primary);
  font-size:22px;
  margin:0 0 20px 0;
  font-weight:700;
}

/* BÃšSQUEDA DE PACIENTES */
#pacienteResults{
  max-height:250px;
  overflow-y:auto;
  border:1px solid var(--border);
  border-radius:10px;
  background:rgba(10,14,26,0.6);
}

.paciente-item{
  padding:12px;
  cursor:pointer;
  transition:all 0.2s;
  border-bottom:1px solid var(--border);
}

.paciente-item:last-child{
  border-bottom:none;
}

.paciente-item:hover{
  background:rgba(34,211,238,0.1);
}

.paciente-item.selected{
  background:rgba(34,211,238,0.15);
  border-left:3px solid var(--primary);
}

/* UTILIDADES */
.inline{display:inline;margin:0}
.hidden{display:none!important}

/* RESPONSIVE */
@media(max-width:768px){
  .hdr{padding:12px 20px}
  .wrap{padding:16px}
  .tabs{padding:6px;gap:6px}
  .tab{padding:8px 16px;font-size:13px}
  .card{padding:20px}
  .modal-content{padding:20px}
}

/* NO DATA MESSAGE */
#noData{
  padding:40px 20px;
  text-align:center;
  color:var(--muted);
  font-size:14px;
}

/* LOADING STATE */
.loading{
  background:linear-gradient(90deg,#1a2332 25%,#2a3342 50%,#1a2332 75%);
  background-size:1000px 100%;
  animation:shimmer 2s infinite;
}

@keyframes shimmer{
  0%{background-position:-1000px 0}
  100%{background-position:1000px 0}
}